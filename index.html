<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Posts Management System - CRUD Practice</title>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js" defer></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üìù Posts Management System</h1>
        <p>Practice JavaScript CRUD (Create, Read, Update, Delete)</p>
      </header>

      <!-- Post Form -->
      <div class="form-container">
        <h2 id="form-title">Add New Post</h2>
        <form id="post-form">
          <div class="form-row">
            <div class="form-group">
              <label for="post-title">Title</label>
              <input type="text" id="post-title" name="title" required />
            </div>
            <div class="form-group">
              <label for="post-author">Author</label>
              <input type="text" id="post-author" name="author" required />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="post-category">Category</label>
              <select id="post-category" name="category" required>
                <option value="">Select...</option>
                <option value="General">General</option>
                <option value="Technology">Technology</option>
                <option value="Education">Education</option>
                <option value="Lifestyle">Lifestyle</option>
              </select>
            </div>
            <div class="form-group">
              <label for="post-image">Cover Image</label>
              <input
                type="file"
                id="post-image"
                name="image"
                accept="image/*"
              />
              <div
                id="image-preview"
                class="image-preview"
                style="display: none"
              >
                <img id="preview-img" src="" alt="Preview" />
                <button type="button" id="remove-image">Remove Image</button>
              </div>
            </div>
          </div>

          <div class="form-group full-width">
            <label for="post-tags">Tags (comma separated)</label>
            <input
              type="text"
              id="post-tags"
              name="tags"
              placeholder="e.g. javascript, web, ui"
            />
          </div>

          <div class="form-group full-width">
            <label for="post-content">Content</label>
            <textarea
              id="post-content"
              name="content"
              rows="5"
              placeholder="Write your post content..."
              required
            ></textarea>
          </div>

          <div class="form-actions">
            <button type="submit" id="submit-btn">Add Post</button>
            <button type="button" id="cancel-btn" style="display: none">
              Cancel
            </button>
          </div>
        </form>
      </div>

      <!-- Posts Display -->
      <div class="posts-section">
        <div class="section-header">
          <h2>Posts List</h2>
          <div class="stats">
            <span id="total-posts">Posts: 0</span>
            <span id="total-words">Words: 0</span>
          </div>
        </div>

        <!-- Search and Controls -->
        <div class="controls">
          <input
            type="text"
            id="search-input"
            placeholder="Search posts..."
            class="search-input"
          />
          <select id="filter-category" class="filter-select">
            <option value="">All Categories</option>
            <option value="General">General</option>
            <option value="Technology">Technology</option>
            <option value="Education">Education</option>
            <option value="Lifestyle">Lifestyle</option>
          </select>
          <button id="clear-all-btn" class="danger-btn">Clear All Posts</button>
        </div>

        <div class="table-container">
          <table id="posts-table">
            <thead>
              <tr>
                <th>Image</th>
                <th>Title</th>
                <th>Author</th>
                <th>Category</th>
                <th>Tags</th>
                <th>Excerpt</th>
                <th>Words</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="posts-tbody">
              <!-- <tr data-post-id="">
                <td><div class="no-image">No Image</div></td>
                <td>Test Title</td>
                <td>Test Author</td>
                <td>Test Category</td>
                <td>Test Tags</td>
                <td class="excerpt">Test Excerpt</td>
                <td>Test Word Count</td>
                <td>
                  <div class="action-buttons">
                    <button class="view-btn" onclick="viewPost('${post.id}')">
                      üëÅ View
                    </button>
                    <button class="edit-btn" onclick="editPost('${post.id}')">
                      ‚úèÔ∏è Edit
                    </button>
                    <button
                      class="delete-btn"
                      onclick="deletePost('${post.id}')"
                    >
                      üóë Delete
                    </button>
                  </div>
                </td>
              </tr> -->
            </tbody>
          </table>
        </div>

        <div id="empty-state" class="empty-state">
          <h3>No Posts Yet</h3>
          <p>Add your first post to get started!</p>
        </div>
      </div>
    </div>

    <input type="hidden" id="edit-post-id" />

    <!-- =============================================================
         MODAL PLACEHOLDER (for teaching)
         -------------------------------------------------------------
         This hidden markup is ONLY here so students can see the
         structure of the modal BEFORE we build it dynamically in JS.
         In the JavaScript version, we will create & inject a similar
         structure at runtime when a user clicks "View".

         Teaching Talking Points:
         - Overlay container vs inner modal panel
         - Close buttons (X + footer Close)
         - Where dynamic data (title, meta, image, tags, content) goes
         - Separation of concerns: HTML structure vs JS injection
         - We keep this display:none so it doesn't show by default

         You can temporarily remove style="display:none" for demo.
    ============================================================= -->
    <div class="modal-overlay" id="demo-modal" style="display: none">
      <div class="modal">
        <div class="modal-header">
          <h3>Post Title Goes Here</h3>
          <button class="close-btn">‚úï</button>
        </div>
        <div class="modal-meta">
          <span><strong>Author:</strong> Example Author</span>
          <span><strong>Category:</strong> Example Category</span>
          <span><strong>Words:</strong> 123</span>
        </div>
        <!-- Optional image (added only if a post has one) -->
        <img src="/building.jpg" alt="" class="modal-image" />
        <div class="modal-tags">
          <span class="tag-badge">tag1</span>
          <span class="tag-badge">tag2</span>
        </div>
        <div class="modal-content">
          <p>This is where the full post content paragraphs will appear.</p>
          <p>
            Each paragraph could be wrapped in its own
            <code>&lt;p&gt;</code> tag.
          </p>
        </div>
        <div class="modal-footer">
          <button class="edit-btn">Edit</button>
          <button class="view-btn">Close</button>
        </div>
      </div>
    </div>
  </body>
</html>
